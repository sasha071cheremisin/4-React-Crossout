(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AkLES8RZcmFigAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAADFklEQVQ4y22TX2ibVQDFf/feL7lJ2rTJ0q7r1mrXJt1a66ZzlarMgoKb+CAURBgMEdyTe3HTl4GgwmCgoqDghjp8EJ/8i7gx50BFkEG32dbNNW3Tss7G2j9JkzXNl+/77vXFqlPP8/mdh8M5gn/J/vJoNyvZPtZu1vD923AcheMsUZ903YZ7R2Y7X/09I1Kldb+4Bb7Ysx935WFcrxUdnsD320C4YDW+aSIW+5pk5ozY9s2ldUb+De8cYrXcT9VrQes8qe0f4kioazqGTpzGUmWtejfFqX124VjrLQF2pH8fpbln8N1uwuJ2CBLE2oukeo+Xdr2WJxy/jlYhAu8OqtU0uVMHSvbTFICyo4NdlKYPEZgoYdWIbniPrqffnNz0YmFD9DdXl7Ph4tajM5F69RXl8Xb82hY8P6GXf+Slkyd/dYL8z0NgdqtoeBxJmbbHzuaaDqyms09sZ/HacwCJpuE3ct3vjnduGP6AxStvEagctVI/4+9cc4Sy1gb4iOAubOQ88c3VTkYclqcex9YewRJi4erGzsXBHMZ9EGwznlnBFy5qdoeDta0gisAWhDNbrkt78cqoxnhd+FZjrCLk9+N7AyhR+7M7DXKeaqVDAssWlgGBMjFLzGJjBiFcBJaQ9EBOEwqfA7GAQCBlEWEFAqQxcswKtQZqkiBobVi8qKm7z0VGLyPlAkLME0m9nrv/h6doTB9EyCmUmscRCh2dlk5Ml0P10Tyen8T4PcydTk/SG5AZ+pjIxqPE2o6w+4UzhoTFK7cg1AzWpHB0jk2D3wtrTzVy4ZXDBO6dGJMANPGOlws7P7pQAAwJm6Iokj89+QCrN57HiZzDeL00DxwXmU+uCAA7c2grc18cwatlCKklTJAm0fcspYkh4h1fUsnvwF85iHGGscInXDcmBrIn/lqi6Hh7msa+9wnXn8c3Ghn+lpaHbiBVBSUN0ear1NQw1kZB3lyH/3umpcPtZD/bT211F7r+Mm6lh1CoQKWyh6geQyc/554T3wmxp/C/AQD2bKIL2AZsBiaAdiAGjAJzYm/x+j/9fwBvS0fd4ooAUAAAAABJRU5ErkJggg=="},,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(44)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(15),l=a.n(i),c=a(1),o=function(e,t){return function(){e({type:"FETCH_ITEMS_LIST_SUCCESS"}),t.getAllItems().then(function(t){console.log("result data -",t),e({type:"FETCH_ITEMS_LIST_REQUEST",payload:t})}).catch(function(t){e({type:"FETCH_ITEMS_LIST_FAILURE",payload:t})})}},s=function(e){return{type:"CHANGE_PER_PAGE",payload:e}},m=function(e,t){return function(a){e({type:"FETCH_MARKET_ITEMS_SUCCESS"}),t.getMarketItem(a).then(function(t){e(function(e,t){return{type:"FETCH_MARKET_ITEMS_REQUEST",payload:{itemId:t,data:e}}}(t,a))}).catch(function(t){e({type:"FETCH_MARKET_ITEMS_FAILURE",payload:t})})}},u=function(){return{type:"TOGGLE_MODAL_WINDOW"}},d=Object(c.b)(function(e){return{fractionFilter:e.filter.fractionFilter}},function(e){return{changeFractionFilter:function(t){return e(function(e){return{type:"CHANGE_FRACTION_FILTER",payload:e}}(t))}}})(function(e){var t=e.fractionFilter,a=e.changeFractionFilter,r=[{name:"All"},{name:"Lunatics"},{name:"Nomads"},{name:"Scavanger"},{name:"Steppenwolfs"},{name:"Dawn's Children"},{name:"Firestarters"}].map(function(e){var r=e.name,i="btn";return-1!==t.indexOf(r)?i+=" btn-primary":i+=" btn-secondary",n.a.createElement("button",{key:r,className:i,type:"button",value:r,onClick:function(e){return a(e.target.value)}},r)});return n.a.createElement("div",{className:"fraction-filter btn-group btn-group-toggle"},r)}),f=Object(c.b)(function(e){return{rarityFilter:e.filter.rarityFilter}},function(e){return{changeRarityFilter:function(t){return e(function(e){return{type:"CHANGE_RARITY_FILTER",payload:e}}(t))}}})(function(e){var t=e.rarityFilter,a=e.changeRarityFilter,r=[{name:"All"},{name:"Rare"},{name:"Epic"},{name:"Legendary"}].map(function(e){var r=e.name,i="btn";return-1!==t.indexOf(r)?i+=" btn-primary":i+=" btn-secondary",n.a.createElement("button",{key:r,className:i,type:"button",value:r,onClick:function(e){return a(e.target.value)}},r)});return n.a.createElement("div",{className:"fraction-filter btn-group btn-group-toggle"},r)}),g=(a(33),{changePerPage:s}),p=Object(c.b)(null,g)(function(e){var t=e.changePerPage;return n.a.createElement("div",{className:"form-change-per-page"},n.a.createElement("div",{className:"form-change-per-page__text"},"Show"),n.a.createElement("select",{className:"form-change-per-page__select form-control",onChange:function(e){return t(e.target.value)}},n.a.createElement("option",null,"5"),n.a.createElement("option",null,"10"),n.a.createElement("option",null,"20"),n.a.createElement("option",null,"50"),n.a.createElement("option",null,"All")),n.a.createElement("div",{className:"form-change-per-page__text"},"entries"))}),E=(a(34),{changeSearchTerm:function(e){return{type:"CHANGE_SEARCH_TERM",payload:e}}}),y=Object(c.b)(function(e){return{searchTerm:e.filter.searchTerm}},E)(function(e){var t=e.searchTerm,a=e.changeSearchTerm;return n.a.createElement("div",{className:"form-change-search-term"},n.a.createElement("div",{className:"form-change-search-term__text"},"Search:"),n.a.createElement("input",{type:"text",className:"form-change-search-term__input form-control",onChange:function(e){return a(e.target.value)},value:t}))}),h=function(){return n.a.createElement("div",{className:"d-flex justify-content-between align-items-center flex-wrap my-4"},n.a.createElement("div",null,n.a.createElement("div",{className:"my-2"},n.a.createElement(d,null)),n.a.createElement("div",{className:"my-2"},n.a.createElement(f,null))),n.a.createElement("div",null,n.a.createElement("div",{className:"my-2"},n.a.createElement(p,null)),n.a.createElement("div",{className:"my-2"},n.a.createElement(y,null))))},b=a(6),_=a(10),v=a(12),A=a(11),N=a(13),I=a(5),C=(a(35),function(){return n.a.createElement("div",{className:"loading-indicator"},n.a.createElement("div",{className:"lds-css ng-scope"},n.a.createElement("div",{className:"lds-double-ring"},n.a.createElement("div",null),n.a.createElement("div",null))))}),S=function(){return n.a.createElement("div",null,"Error!")},T=a(8),F=a.n(T),k=(a(36),function(e){var t=e.item,a=e.craftingFormat,r=e.updateCurrentMarketId,i=e.toggleModalWindow,l="items-list-detail__price-cell-count",c=l+" "+("buySum"===a?"":l+"--not-active"),o=l+" "+("sellSum"===a?"":l+"--not-active");return n.a.createElement("tr",{key:t.id,className:"items-list-detail"},n.a.createElement("td",null,n.a.createElement("img",{className:"items-list-detail__image",src:t.image,alt:t.name,title:t.name,onClick:function(){i(),r(t.id)}})),n.a.createElement("td",null,n.a.createElement("div",{className:"items-list-detail__price-cell"},n.a.createElement("div",{className:"items-list-detail__price-cell-count"},t.priceBuy),n.a.createElement("div",{className:"items-list-detail__price-cell-image"},n.a.createElement("img",{height:"14",src:F.a,alt:"coin"}))),n.a.createElement("div",{className:"items-list-detail__price-cell"},n.a.createElement("div",{className:"items-list-detail__price-cell-count"},t.priceSell),n.a.createElement("div",{className:"items-list-detail__price-cell-image"},n.a.createElement("img",{height:"14",src:F.a,alt:"coin"})))),n.a.createElement("td",null,n.a.createElement("div",null,t.offersBuy),n.a.createElement("div",null,t.offersSell)),n.a.createElement("td",null,n.a.createElement("div",{className:"items-list-detail__price-cell"},n.a.createElement("div",{className:c},t.craftingBuy),n.a.createElement("div",{className:"items-list-detail__price-cell-image"},n.a.createElement("img",{height:"14",src:F.a,alt:"coin"}))),n.a.createElement("div",{className:"items-list-detail__price-cell"},n.a.createElement("div",{className:o},t.craftingSell),n.a.createElement("div",{className:"items-list-detail__price-cell-image"},n.a.createElement("img",{height:"14",src:F.a,alt:"coin"})))),n.a.createElement("td",null,n.a.createElement("div",{className:"items-list-detail__price-cell"},n.a.createElement("div",{className:"items-list-detail__price-cell-count"},t.incomeBuy),n.a.createElement("div",{className:"items-list-detail__price-cell-image"},n.a.createElement("img",{height:"14",src:F.a,alt:"coin"}))),n.a.createElement("div",{className:"items-list-detail__price-cell"},n.a.createElement("div",{className:"items-list-detail__price-cell-count"},t.incomeSell),n.a.createElement("div",{className:"items-list-detail__price-cell-image"},n.a.createElement("img",{height:"14",src:F.a,alt:"coin"})))))}),O=(a(37),function(e){var t=e.number,a=e.changePage,r=e.currentPage,i="page-item "+(t===r?"active ":"")+("..."===t?"disabled":"");return n.a.createElement("li",{className:i},n.a.createElement("div",{onClick:function(){return a(t)},className:"page-link",href:"#"},t))}),w=function(e){for(var t,a=e.changePage,r=e.countPages,i=e.currentPage,l=[],c=!1,o=1;o<=r;o++)1===o||o===r||o<=8&&i<=4||o>r-8&&i>=r-4?l.push(n.a.createElement(O,{key:o,number:o,changePage:a,currentPage:i})):o>i-4&&o<i+4?l.push(n.a.createElement(O,{key:o,number:o,changePage:a,currentPage:i})):!t&&o<i+4?(t=!0,l.push(n.a.createElement(O,{key:o,number:"...",changePage:function(){},currentPage:i}))):!c&&o>i-4&&(c=!0,l.push(n.a.createElement(O,{key:o,number:"...",changePage:function(){},currentPage:i})));var s="page-item "+(i===r?"disabled":""),m="page-item "+(1===i?"disabled":"");return n.a.createElement("ul",{className:"pagination"},n.a.createElement("li",{className:m},n.a.createElement("div",{onClick:function(){return a(i-1)},className:"page-link"},"Prev")),l,n.a.createElement("li",{className:s},n.a.createElement("div",{onClick:function(){return a(i+1)},className:"page-link"},"Next")))},M=(a(38),function(e){var t=e.items,a=e.changeSort,r=e.sort,i=e.changeCraftingFormat,l=e.craftingFormat,c=e.paginationItemsList,o=c.perPage,s=c.currentPage,m=e.changeCurrentPage,u=e.updateCurrentMarketId,d=e.toggleModalWindow,f=Math.ceil(t.length/o),g=(s-1)*o,p=0,E=t.filter(function(e,t){return t>=g&&p<o&&(p++,!0)}).map(function(e,t){return n.a.createElement(k,{item:e,key:e.id,craftingFormat:l,updateCurrentMarketId:u,toggleModalWindow:d})}),y="items-list__sort-item "+("offersBuy"===r?"items-list__sort-item--active":""),h="items-list__sort-item "+("offersSell"===r?"items-list__sort-item--active":""),b="items-list__sort-item "+("incomeBuy"===r?"items-list__sort-item--active":""),_="items-list__sort-item "+("incomeSell"===r?"items-list__sort-item--active":"");return n.a.createElement("div",{className:"items-list"},n.a.createElement("table",{className:"items-list__table table table-responsive-md table-hover"},n.a.createElement("thead",{className:"items-list__thead"},n.a.createElement("tr",null,n.a.createElement("th",{className:"align-middle text-center"},"Image"),n.a.createElement("th",{className:"align-middle text-center"},"Price",n.a.createElement("br",null),"Buy /",n.a.createElement("br",null),"Sell"),n.a.createElement("th",{className:"align-middle text-center"},"Offers",n.a.createElement("br",null),n.a.createElement("span",{className:y,onClick:function(){return a("offersBuy")}},"Buy")," /",n.a.createElement("br",null),n.a.createElement("span",{className:h,onClick:function(){return a("offersSell")}},"Sell")),n.a.createElement("th",{className:"align-middle text-center"},"Crafting",n.a.createElement("br",null),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"craftingFormat1",name:"craftingFormat",className:"custom-control-input",value:"buySum",onChange:function(e){return i(e.target.value)},checked:"buySum"===l}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"craftingFormat1"},"BuySum /")),n.a.createElement("div",{className:"custom-control custom-radio"},n.a.createElement("input",{type:"radio",id:"craftingFormat2",name:"craftingFormat",className:"custom-control-input",value:"sellSum",onChange:function(e){return i(e.target.value)},checked:"sellSum"===l}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"craftingFormat2"},"SellSum"))),n.a.createElement("th",{className:"align-middle text-center"},"Income",n.a.createElement("br",null),n.a.createElement("span",{className:b,onClick:function(){return a("incomeBuy")}},"fromBuyPrice")," /",n.a.createElement("br",null),n.a.createElement("span",{className:_,onClick:function(){return a("incomeSell")}},"fromSellPrice")))),n.a.createElement("tbody",null,E)),n.a.createElement(w,{countPages:f,currentPage:s,changePage:m}))}),R=n.a.createContext(),P=R.Provider,B=R.Consumer,x=function(){return function(e){return function(t){return n.a.createElement(B,null,function(a){return n.a.createElement(e,Object.assign({},t,{crossoutService:a}))})}}},L=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(n)))).inFilter=function(e,t,a){return"All"===t[0]||-1!==t.indexOf(e[a])},a.filterItemsList=function(e){var t=a.props,r=t.fractionFilter,n=t.rarityFilter,i=a.inFilter(e,r,"fraction"),l=a.inFilter(e,n,"rarity");return i&&l},a.searchFilter=function(e){var t=a.props.searchTerm;return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())},a.sortItemsList=function(e,t){switch(a.props.sort){case"offersBuy":return t.offersBuy-e.offersBuy;case"offersSell":return t.offersSell-e.offersSell;case"incomeBuy":return t.incomeBuy-e.incomeBuy;case"incomeSell":return t.incomeSell-e.incomeSell;default:return}},a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchItemsList()}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.loading,r=e.error,i=e.changeSort,l=e.sort,c=e.changeCraftingFormat,o=e.craftingFormat,s=e.paginationItemsList,m=e.changeCurrentPage,u=e.updateCurrentMarketId,d=e.toggleModalWindow;return a?n.a.createElement(C,null):r?n.a.createElement(S,null):n.a.createElement(M,{items:t.filter(this.filterItemsList).filter(this.searchFilter).sort(this.sortItemsList),changeSort:i,sort:l,changeCraftingFormat:c,craftingFormat:o,paginationItemsList:s,changeCurrentPage:m,updateCurrentMarketId:u,toggleModalWindow:d})}}]),t}(r.Component),j=Object(I.b)(x(),Object(c.b)(function(e){var t=e.itemsList,a=t.items,r=t.loading,n=t.error,i=e.filter,l=i.fractionFilter,c=i.rarityFilter,o=i.searchTerm;return{items:a,loading:r,error:n,fractionFilter:l,rarityFilter:c,sort:e.sort,craftingFormat:e.craftingFormat,paginationItemsList:e.paginationItemsList,searchTerm:o}},function(e,t){var a=t.crossoutService;return{fetchItemsList:o(e,a),changeSort:function(t){return e(function(e){return{type:"CHANGE_SORT",payload:e}}(t))},changeCraftingFormat:function(t){return e(function(e){return{type:"CHANGE_CRAFTING_FORMAT",payload:e}}(t))},changeCurrentPage:function(t){return e(function(e){return{type:"CHANGE_CURRENT_PAGE",payload:e}}(t))},changePerPage:function(t){return e(s(t))},updateCurrentMarketId:function(t){return e({type:"UPDATE_CURRENT_MARKET_ID",payload:t})},toggleModalWindow:function(){return e({type:"TOGGLE_MODAL_WINDOW"})}}}))(L),G=a(23),H=a.n(G),D=a(14),U=a.n(D),W=function(e){function t(){return Object(b.a)(this,t),Object(v.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){for(var e=this.props.data,t=[],a=[],r=[],n=[],i=[],l=U()(),c=U()().subtract(1,"days"),o=0;o<e.length;o++){var s=e[o],m=U.a.unix(s.dateTimeUNIX);m.isBefore(l)&&m.isAfter(c)&&(t.push(s.buyPrice),r.push(m.format("YYYY-MM-DD HH:mm:ss")),a.push(s.sellPrice),n.push(s.buyOrders),i.push(s.sellOffers))}var u=document.getElementById("myChart");new H.a(u,{type:"bar",data:{labels:r,datasets:[{label:"Sell",data:a,borderColor:"red",backgroundColor:"red",pointRadius:0,borderWidth:2,fill:!1,yAxisID:"y-axis-1",type:"line"},{label:"Buy",data:t,borderColor:"green",backgroundColor:"green",pointRadius:0,borderWidth:2,fill:!1,yAxisID:"y-axis-1",type:"line"},{label:"SellOffers",data:i,borderColor:"#939393",borderWidth:1,yAxisID:"y-axis-2",type:"bar"},{label:"BuyOrders",data:n,borderColor:"#44a5ff",borderWidth:1,yAxisID:"y-axis-2",type:"bar"}]},options:{responsive:!0,title:{display:!0,text:"ITEM CHART DATA"},tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},scales:{xAxes:[{type:"time",distribution:"series",ticks:{source:"data",autoSkip:!0}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"PRICES"},position:"left",id:"y-axis-1"},{display:!0,scaleLabel:{display:!0,labelString:"QUANTITY"},position:"right",id:"y-axis-2",ticks:{beginAtZero:!0}}]},elements:{line:{tension:0}}}})}},{key:"render",value:function(){return n.a.createElement("div",{className:"graph"},n.a.createElement("canvas",{id:"myChart"}))}}]),t}(r.Component),J=(a(40),function(e){var t=e.data;return n.a.createElement("div",{className:"item-detail-info"},n.a.createElement("div",{className:"item-detail-info__content container"},n.a.createElement(W,{data:t})))}),Y=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(n)))).returnMarketItem=function(e,t){return e.find(function(e){return e.itemId===t}).data},a}return Object(N.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchMarketItems,a=e.marketItems,r=a.items,n=a.currentItem;r.find(function(e){return e.itemId===n})||t(n)}},{key:"render",value:function(){var e=this.props.marketItems;return e.currentItem?e.loading?n.a.createElement(C,null):e.error?n.a.createElement(S,null):n.a.createElement(J,{data:this.returnMarketItem(e.items,e.currentItem)}):null}}]),t}(r.Component),Q=Object(I.b)(x(),Object(c.b)(function(e){return{marketItems:e.marketItems}},function(e,t){var a=t.crossoutService;return{fetchMarketItems:m(e,a)}}))(Y),X=(a(41),{toggleModalWindow:u}),q=Object(c.b)(function(e){return{openModal:e.openModal}},X)(function(e){var t=e.openModal,a=e.children,r=e.toggleModalWindow;if(!t)return document.body.classList.remove("modal-open"),null;document.body.classList.add("modal-open");return n.a.createElement("div",{className:"modal-window",onClick:function(e){return function(e){"modal-window"===e.target.className&&r()}(e)}},n.a.createElement("div",{className:"modal-window__container container"},n.a.createElement("div",{className:"modal-window__content "},n.a.createElement("div",{className:"modal-window__toolbar"},n.a.createElement("button",{className:"modal-window__hide btn btn-outline-primary",onClick:function(){return r()}},n.a.createElement("i",{className:"fa fa-minus-circle"}))),a)))}),K=(a(42),function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"app container"},n.a.createElement(h,null),n.a.createElement(j,null)),n.a.createElement(q,null,n.a.createElement(Q,null)))}),Z=a(2),z=a(3),V=function(e,t){var a=e.itemsList.items,r="buySum"===t?"craftingBuy":"craftingSell";return Object(z.a)(a).map(function(e){var t=(.9*e.priceBuy-e[r]).toFixed(2),a=(.9*e.priceSell-e[r]).toFixed(2);return Object(Z.a)({},e,{incomeBuy:t,incomeSell:a})})},$=function(e,t){if(void 0===e)return{items:[],loading:!1,error:null};switch(t.type){case"FETCH_ITEMS_LIST_REQUEST":return{items:t.payload,loading:!1,error:null};case"FETCH_ITEMS_LIST_SUCCESS":return{items:[],loading:!0,error:null};case"FETCH_ITEMS_LIST_FAILURE":return{items:[],loading:!1,error:t.payload};case"CHANGE_CRAFTING_FORMAT":return Object(Z.a)({},e,{items:V(e,t.payload)});default:return e.itemsList}},ee=function(e,t){var a=e.indexOf(t),r=[],n=(r=-1!==a?[].concat(Object(z.a)(e.slice(0,a)),Object(z.a)(e.slice(a+1))):[].concat(Object(z.a)(e),[t])).indexOf("All");return-1!==n&&(r=[].concat(Object(z.a)(r.slice(0,n)),Object(z.a)(r.slice(n+1)))),"All"===t||0===r.length?["All"]:r},te=function(e,t){if(void 0===e)return{rarityFilter:["All"],fractionFilter:["All"],searchTerm:""};switch(t.type){case"CHANGE_FRACTION_FILTER":var a=e.filter.fractionFilter;return Object(Z.a)({},e.filter,{fractionFilter:ee(a,t.payload)});case"CHANGE_RARITY_FILTER":var r=e.filter.rarityFilter;return Object(Z.a)({},e.filter,{rarityFilter:ee(r,t.payload)});case"CHANGE_SEARCH_TERM":return Object(Z.a)({},e.filter,{searchTerm:t.payload});default:return e.filter}},ae=function(e,t){if(void 0===e)return"incomeBuy";switch(t.type){case"CHANGE_SORT":return t.payload;default:return e.sort}},re=function(e,t){if(void 0===e)return"buySum";switch(t.type){case"CHANGE_CRAFTING_FORMAT":return t.payload;default:return e.craftingFormat}},ne=function(e,t){var a=Number(t),r=e.itemsList.items.length;return Number.isNaN(a)?r:a},ie=function(e,t){if(void 0===e)return{perPage:5,currentPage:1};switch(t.type){case"CHANGE_CURRENT_PAGE":return Object(Z.a)({},e.paginationItemsList,{currentPage:t.payload});case"CHANGE_PER_PAGE":return Object(Z.a)({},e.paginationItemsList,{perPage:ne(e,t.payload)});default:return e.paginationItemsList}},le=function(e,t){return[].concat(Object(z.a)(e.marketItems.items),[t])},ce=function(e,t){if(void 0===e)return{items:[],loading:!1,error:null,currentItem:null};switch(t.type){case"FETCH_MARKET_ITEMS_REQUEST":return{items:le(e,t.payload),loading:!1,error:null,currentItem:e.marketItems.currentItem};case"FETCH_MARKET_ITEMS_SUCCESS":return{items:e.marketItems.items,loading:!0,error:null,currentItem:e.marketItems.currentItem};case"FETCH_MARKET_ITEMS_FAILURE":return{items:e.marketItems.items,loading:!1,error:t.payload,currentItem:e.marketItems.currentItem};case"UPDATE_CURRENT_MARKET_ID":return Object(Z.a)({},e.marketItems,{currentItem:t.payload,loading:(a=e.marketItems.items,r=t.payload,!a.find(function(e){return e.itemId===r}))});default:return e.marketItems}var a,r},oe=function(e,t){if(void 0===e)return!1;switch(t.type){case"TOGGLE_MODAL_WINDOW":return!e.openModal;default:return e.openModal}},se=function(e,t){return console.log("action.type - ",t.type),{itemsList:$(e,t),filter:te(e,t),sort:ae(e,t),craftingFormat:re(e,t),paginationItemsList:ie(e,t),marketItems:ce(e,t),openModal:oe(e,t)}},me=Object(I.c)(se);me.subscribe(function(){return console.log("store.getState() -",me.getState())});var ue=me,de=a(9),fe=a.n(de),ge=a(16),pe=new function e(){var t=this;Object(b.a)(this,e),this._baseUrl="https://crossoutdb.com/api/v1",this._baseImage="https://crossoutdb.com/img/items/",this._factionNames=["Lunatics","Nomads","Scavanger","Steppenwolfs","Dawn's Children","Firestarters"],this._transformItem=function(e){var a=.9*e.formatBuyPrice-e.formatCraftingBuySum,r=.9*e.formatSellPrice-e.formatCraftingBuySum;return{id:e.id,name:e.name,image:t._baseImage+e.image,priceBuy:+e.formatBuyPrice,priceSell:+e.formatSellPrice,offersBuy:e.buyOrders,offersSell:e.sellOffers,craftingBuy:+e.formatCraftingBuySum,craftingSell:+e.formatCraftingSellSum,incomeBuy:+a.toFixed(2),incomeSell:+r.toFixed(2),fraction:e.faction,rarity:e.rarityName}},this._transformMarketItem=function(e){return{id:e[0],sellPrice:e[1]/100,buyPrice:e[2]/100,sellOffers:e[3],buyOrders:e[4],dateTime:e[5],dateTimeUNIX:e[6]}},this._filterGetResourse=function(e){var a=e.faction;return t._factionNames.includes(a)},this.getResourse=function(){var e=Object(ge.a)(fe.a.mark(function e(a){var r;return fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._baseUrl).concat(a));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t._baseUrl).concat(a,", received ").concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllItems=Object(ge.a)(fe.a.mark(function e(){var a;return fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/items/");case 2:return a=e.sent,console.log("res -",a),e.abrupt("return",a.filter(t._filterGetResourse).map(t._transformItem));case 5:case"end":return e.stop()}},e)})),this.getMarketItem=function(){var e=Object(ge.a)(fe.a.mark(function e(a){var r;return fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/market-all/".concat(a));case 2:return r=e.sent,e.abrupt("return",r.map(t._transformMarketItem));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};l.a.render(n.a.createElement(c.a,{store:ue},n.a.createElement(P,{value:pe},n.a.createElement(K,null))),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.ac3ffcf3.chunk.js.map